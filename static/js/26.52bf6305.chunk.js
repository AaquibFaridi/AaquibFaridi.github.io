(this.webpackJsonplastArzi=this.webpackJsonplastArzi||[]).push([[26],{611:function(e,a,t){"use strict";t.r(a);var l=t(18),n=t.n(l),i=t(26),o=t(7),r=t(0),s=t.n(r),c=t(514),d=t(16),u=t(442),m=t(405),v=t(576),b=t(478),y=t(479),p=t(463),g=t(476),f=t(477),E=t(441),h=t(408),O=t(147),k=t(246),N=t(148),x=t(79),S=t(451),C=t(434),j=t(435),A=t(8),D=t.n(A),L=t(464),F=t(462),I=t(480),w={Advances:[{key:"Lendor Details",val:"",type:"Text",mandatory:!0},{key:"Amount",val:"",type:"Number",mandatory:!0},{key:"Remarks",val:"",type:"Text"},{key:"Attachments",val:"",type:"File"}],"Credit Card":[{key:"Card Details *",val:"",type:"Text",mandatory:!0},{key:"Account Details *",val:"",type:"Text",mandatory:!0},{key:"Amount",val:"",type:"Number"},{key:"Remarks",val:"",type:"Text"},{key:"Attachments",val:"",type:"File"}],EMI:[{key:"EMI Details *",val:"",type:"Text",mandatory:!0},{key:"Account Details *",val:"",type:"Text",mandatory:!0},{key:"Amount",val:"",type:"Number"},{key:"Remarks",val:"",type:"Text"},{key:"Attachments",val:"",type:"File"}],"Loan & Mortgages":[{key:"Loan Details*",val:"",type:"Text",mandatory:!0},{key:"Account Details *",val:"",type:"Number",mandatory:!0},{key:"Amount *",val:"",type:"Number",mandatory:!0},{key:"Remarks",val:"",type:"Text"},{key:"Attachments",val:"",type:"File"}],"Ponzi Schemes":[{key:"Scheme Details *",val:"",type:"Text",mandatory:!0},{key:"Account Details *",val:"",type:"Text",mandatory:!0},{key:"Amount *",val:"",type:"Number",mandatory:!0},{key:"Remarks",val:"",type:"Text"},{key:"Attachments",val:"",type:"File"}],"Recurring Payments":[{key:"Payments Details *",val:"",type:"Text",mandatory:!0},{key:"Account Details *",val:"",type:"Number",mandatory:!0},{key:"Amount *",val:"",type:"Number",mandatory:!0},{key:"Remarks",val:"",type:"Text"},{key:"Attachments",val:"",type:"File"}],Others:[{key:"Liability Name",val:"",type:"Text"},{key:"Amount",val:"",type:"Number",mandatory:!0},{key:"Remarks",val:"",type:"Text"},{key:"Attachments",val:"",type:"File"}]},T=t(23),R=t.n(T),B=t(15),M=t(80),P=(t(455),t(454),t(457),t(459)),z=t(58),J=t(17),_=t(499),U=t(475),V=t(601),H=(t(460),t(247),t(474)),K=t(150),W=[{value:"Text",label:"Text",color:"#00B8D9",isFixed:!0},{value:"textarea",label:"Text Area",color:"#0052CC",isFixed:!0},{value:"Date",label:"Date",color:"#0052CC",isFixed:!0},{value:"Number",label:"Number",color:"#0052CC",isFixed:!0},{value:"File",label:"File",color:"#0052CC",isFixed:!0}];a.default=Object(B.b)((function(e){var a,t;return{dataList:e.dataList,messages:null===e||void 0===e||null===(a=e.customizer)||void 0===a||null===(t=a.language)||void 0===t?void 0:t.Liability,listLoading:e.dataList.totalRecordsLoading}}),{getData:P.f,addData:P.a})((function(e){var a,t,l,A,T,B,P,q,G,Q,X,Y,Z,$,ee,ae,te,le,ne,ie,oe,re,se,ce,de,ue,me,ve,be,ye,pe=[{value:"Advances",label:(null===(a=e.messages)||void 0===a||null===(t=a.colorOption)||void 0===t?void 0:t.Advances)?null===(l=e.messages)||void 0===l||null===(A=l.colorOption)||void 0===A?void 0:A.Advances:"Advances",color:"#0052CC",isFixed:!0},{value:"Credit Card",label:(null===(T=e.messages)||void 0===T||null===(B=T.colorOption)||void 0===B?void 0:B["Credit Card"])?null===(P=e.messages)||void 0===P||null===(q=P.colorOption)||void 0===q?void 0:q["Credit Card"]:"Credit Card",color:"#0052CC",isFixed:!0},{value:"EMI",label:(null===(G=e.messages)||void 0===G||null===(Q=G.colorOption)||void 0===Q?void 0:Q.EMI)?null===(X=e.messages)||void 0===X||null===(Y=X.colorOption)||void 0===Y?void 0:Y.EMI:"EMI",color:"#0052CC",isFixed:!0},{value:"Loan & Mortgages",label:(null===(Z=e.messages)||void 0===Z||null===($=Z.colorOption)||void 0===$?void 0:$["Loan & Mortgages"])?null===(ee=e.messages)||void 0===ee||null===(ae=ee.colorOption)||void 0===ae?void 0:ae["Loan & Mortgages"]:"Loan & Mortgages",color:"#00B8D9",isFixed:!0},{value:"Ponzi Schemes",label:(null===(te=e.messages)||void 0===te||null===(le=te.colorOption)||void 0===le?void 0:le["Ponzi Schemes"])?null===(ne=e.messages)||void 0===ne||null===(ie=ne.colorOption)||void 0===ie?void 0:ie["Ponzi Schemes"]:"Ponzi Schemes",color:"#0052CC",isFixed:!0},{value:"Recurring Payments",label:(null===(oe=e.messages)||void 0===oe||null===(re=oe.colorOption)||void 0===re?void 0:re["Recurring Payments"])?null===(se=e.messages)||void 0===se||null===(ce=se.colorOption)||void 0===ce?void 0:ce["Recurring Payments"]:"Recurring Payments",color:"#0052CC",isFixed:!0},{value:"Others",label:(null===(de=e.messages)||void 0===de||null===(ue=de.colorOption)||void 0===ue?void 0:ue.Others)?null===(me=e.messages)||void 0===me||null===(ve=me.colorOption)||void 0===ve?void 0:ve.Others:"Others",color:"#0052CC",isFixed:!0}],ge=(null===(be=e.messages)||void 0===be?void 0:be.liabilityOption)?null===(ye=e.messages)||void 0===ye?void 0:ye.liabilityOption:JSON.parse(JSON.stringify(w)),fe=s.a.createRef(),Ee=s.a.createRef(),he=s.a.createRef(),Oe=Object(r.useState)(!1),ke=Object(o.a)(Oe,2),Ne=ke[0],xe=ke[1],Se=Object(r.useState)(!1),Ce=Object(o.a)(Se,2),je=Ce[0],Ae=Ce[1],De=Object(r.useState)(null),Le=Object(o.a)(De,2),Fe=Le[0],Ie=Le[1],we=Object(r.useState)(""),Te=Object(o.a)(we,2),Re=Te[0],Be=Te[1],Me=Object(r.useState)(""),Pe=Object(o.a)(Me,2),ze=Pe[0],Je=Pe[1],_e=Object(r.useState)(!0),Ue=Object(o.a)(_e,2),Ve=Ue[0],He=Ue[1],Ke=Object(r.useState)([]),We=Object(o.a)(Ke,2),qe=We[0],Ge=We[1],Qe=Object(r.useState)(""),Xe=Object(o.a)(Qe,2),Ye=Xe[0],Ze=Xe[1],$e=Object(r.useState)(!1),ea=Object(o.a)($e,2),aa=ea[0],ta=ea[1],la=Object(r.useState)(!1),na=Object(o.a)(la,2),ia=na[0],oa=na[1],ra=Object(r.useState)(null),sa=Object(o.a)(ra,2),ca=sa[0],da=sa[1],ua=Object(r.useState)(!1),ma=Object(o.a)(ua,2),va=ma[0],ba=ma[1],ya=Object(r.useState)([]),pa=Object(o.a)(ya,2),ga=pa[0],fa=pa[1],Ea=Object(r.useState)(!1),ha=Object(o.a)(Ea,2),Oa=ha[0],ka=ha[1],Na=Object(r.useState)([]),xa=Object(o.a)(Na,2),Sa=xa[0],Ca=xa[1],ja=Object(r.useState)(!1),Aa=Object(o.a)(ja,2),Da=Aa[0],La=Aa[1],Fa=Object(r.useState)(""),Ia=Object(o.a)(Fa,2),wa=Ia[0],Ta=Ia[1],Ra=Object(r.useState)(!0),Ba=Object(o.a)(Ra,2),Ma=Ba[0],Pa=Ba[1],za=Object(r.useState)([{value:"Add Nominee",label:"Add Nominee",color:"#00B8D9",isFixed:!1}]),Ja=Object(o.a)(za,2),_a=Ja[0],Ua=Ja[1];Object(r.useEffect)((function(){if(e.dataList.data.length){var a=[{value:"Add Nominee",label:"Add Nominee",color:"#00B8D9",isFixed:!1}];e.dataList.data.forEach((function(e){var t={value:e._id,label:"".concat(e.name," - ").concat(e.relation),color:"#00B8D9",isFixed:!1};a.push(t)})),Ua(a),Ka()}}),[e.dataList]),Object(r.useEffect)((function(){!e.listLoading&&e.getData(),Ka()}),[]);var Va=function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];ta(e),!0===a&&(da(null),oa(!0))},Ha=function(){var a=Object(i.a)(n.a.mark((function a(t){return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return ba(!0),a.prev=1,a.next=4,e.addData(t);case 4:ba(!1),Va(!1,!0),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),ba(!1),M.b.error("Add Nominee Failed! Please contact admin");case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}(),Ka=function(){var a=JSON.parse(localStorage.getItem("logInUserData"));R.a.get("/backendapi/user/liabilities/"+a._id,{headers:{Authorization:"Bearer "+localStorage.getItem("authtoken")}}).then((function(t){var l,n=t?t.data:[];n.splice(0,n.length),(null===a||void 0===a||null===(l=a.liabilities)||void 0===l?void 0:l.length)&&a.liabilities.forEach((function(a,t){if(a.id){var l,i="";(null===a||void 0===a||null===(l=a.nominees)||void 0===l?void 0:l.length)&&a.nominees.forEach((function(t,l){var n=e.dataList.data.filter((function(e){return e._id===t.id}));n.length&&(l===a.nominees.length-1?i+=n[0].name:i=i+n[0].name+", ")}));var o=s.a.createElement("div",null,s.a.createElement(u.a,null,a.liabilityDetails.map((function(e,a){return""!==e.val?s.a.createElement(m.a,{md:"5",sm:"12",key:a+e.key},s.a.createElement(v.a,null,s.a.createElement("b",null,e.key," :")," ",Ve?e.val:"***********")):""})),s.a.createElement(m.a,{md:"5",sm:"12"},s.a.createElement(v.a,null,s.a.createElement("b",null,"Nominees :")," ",Ve?i:"*******************")),s.a.createElement(m.a,{md:"2",sm:"12"},s.a.createElement(v.a,null,s.a.createElement("b",null,s.a.createElement(_.a,{className:"cursor-pointer mr-1",size:window.screen.width<500?13:20,onClick:function(){Xa(a)}})),s.a.createElement("b",null,s.a.createElement(U.a,{className:"cursor-pointer",size:window.screen.width<500?13:20,onClick:function(){Ie(a.id),xe(!0)}})))))),r={id:t+1,title:a.liabilityType,content:o};n.push(r)}})),Ge(null===n||void 0===n?void 0:n.reverse())}))},Wa=function(){ka(!Oa)},qa=function(e,a){var t=Sa,l=t.findIndex((function(e){return e.key===a.key}));e.length<50&&(t[l].val=e,Ca(t),function(){var e=!1;Sa.forEach((function(a){a.mandatory&&!a.val&&(e=!0)})),Pa(e)}(),Ae(!je))},Ga=function(){fe.current.select.clearValue(),Ee.current.select.clearValue(),Ze(""),Ca([]),fa([]),Da&&Pa(!0)},Qa=function(){Be(""),Je(""),he.current&&he.current.select.clearValue()},Xa=function(e){var a=e.liabilityDetails,t=e.liabilityType,l=e.nominees;Ze(t),La(!0),Ta(e.id),Ca(a),fa(l)},Ya=function(e){e?(document.getElementById("buttonLabel").classList.remove("no-display"),document.getElementById("buttonLabel").classList.add("button-text")):(document.getElementById("buttonLabel").classList.add("no-display"),document.getElementById("buttonLabel").classList.remove("button-text"))},Za=e.messages,$a=e.thumbView,et=e.getData,at=e.parsedFilter;return s.a.createElement(s.a.Fragment,null,s.a.createElement("h2",{className:"warning spacing nodisplay"},(null===Za||void 0===Za?void 0:Za.heading)?Za.heading:"Liabilties"),s.a.createElement(u.a,null,s.a.createElement(m.a,{sm:"12"},s.a.createElement("div",{className:"data-list ".concat($a?"thumb-view":"list-view")},s.a.createElement(F.a,{modalMessage:"Are you sure you want to delete this record?",handleConfirm:function(){!function(a){var t=JSON.parse(localStorage.getItem("logInUserData")),l=t.liabilities.findIndex((function(e){return e.id===a})),n=[];l>=0&&(t.liabilities[l].nominees.forEach((function(e){e.objectid=t.liabilities[l].id,n.push(e)})),t.liabilities.splice(l,1),R.a.post("/backendapi/adddetails",{_id:t._id,liabilities:Object(d.b)(JSON.stringify(t.liabilities)),deletednominee:n},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("authtoken"))}}).then((function(a){e.getData(e.parsedFilter),Ka()})).catch(),localStorage.setItem("logInUserData",JSON.stringify(t)),M.b.warning("Liability deleted successfully!"),Ga(),Qa(),Pa(!0))}(Fe),xe(!1)},isOpen:Ne,closeModal:function(){return xe(!1)}}),s.a.createElement(H.a,{show:aa,data:ca,updateData:e.updateData,addData:Ha,isLoading:va,handleSidebar:Va,thumbView:$a,getData:et,dataParams:at,addNew:ia}),s.a.createElement("div",{className:D()("data-list-overlay",{show:aa}),onClick:function(){return Va(!1,!0)}}),s.a.createElement(u.a,null,s.a.createElement(m.a,{lg:"8",md:"6",sm:"12"},s.a.createElement("div",{style:{width:window.screen.width<500?"100%":"150%"}},s.a.createElement(u.a,null,s.a.createElement(m.a,{sm:"12"},s.a.createElement(b.a,{activeTab:"1"},s.a.createElement(y.a,{tabId:"1"},s.a.createElement(u.a,null,s.a.createElement(M.a,null),s.a.createElement(m.a,{lg:"8",md:"6",sm:"12"},s.a.createElement(p.a,null,s.a.createElement(g.a,null,s.a.createElement(f.a,null,(null===Za||void 0===Za?void 0:Za.subHeading)?Za.subHeading:Da?"Edit Liability Details":"Add New Liability")),s.a.createElement(E.a,null,s.a.createElement(h.a,null,s.a.createElement(u.a,null,s.a.createElement(m.a,{md:"6",sm:"12"},s.a.createElement(O.a,{className:"form-label-group"},s.a.createElement(z.a,{className:"React",classNamePrefix:"select",ref:fe,name:"color",options:pe,isClearable:!0,isDisabled:Da,value:pe.filter((function(e){return e.value===Ye})),placeholder:(null===Za||void 0===Za?void 0:Za.liabilityOptionText)?null===Za||void 0===Za?void 0:Za.liabilityOptionText:"Select Liability Type...",onChange:function(e){!function(e){Pa(!0),Be(""),Je(""),Ze(e?e.value:void 0),Ca(e?ge[e.value]:{})}(e)}}),s.a.createElement(k.a,{for:"nameMulti"},"Liability Type"))),s.a.createElement(m.a,{md:"6",sm:"12"},s.a.createElement(O.a,{className:"form-label-group"},s.a.createElement(z.a,{isMulti:!0,name:"nominee",options:_a,value:ga.map((function(e){var a=_a.filter((function(a){return a.value===e.id}));return{value:a[0].value,label:a[0].label}})),ref:Ee,className:"React",classNamePrefix:"select",placeholder:(null===Za||void 0===Za?void 0:Za.nomineeOption)?null===Za||void 0===Za?void 0:Za.nomineeOption:"Select Nominees...",id:"nominee",onChange:function(e){!function(e){Da&&Pa(!1);var a=[];(null===e||void 0===e?void 0:e.length)&&e.forEach((function(e){"Add Nominee"===e.value?ta(!0):a.push({id:e.value,name:e.label})})),!e&&Pa(!0),fa(a)}(e)}}),s.a.createElement(k.a,null,"Nominee")))),s.a.createElement(u.a,null,Object.keys(ge).includes(Ye)&&Sa.length&&Sa.map((function(e,a){return s.a.createElement(m.a,{md:"6",sm:"12",key:a},s.a.createElement(O.a,{className:"form-label-group"},e.deletable&&s.a.createElement(V.a,{style:{position:"absolute",right:"-5px",top:"-7px"},className:"primary",size:15,onClick:function(){!function(e){Da&&Pa(!1);var a=Sa.filter((function(a){return e.key!==a.key}));Ca(a)}(e)}}),s.a.createElement(N.a,{type:e.type,onKeyPress:function(a){return"number"===e.type&&Object(K.a)(a)},name:e.key,id:e.id,className:"input-label",placeholder:e.key,value:e.val,onChange:function(a){qa(a.target?a.target.value:a.value,e)}}),s.a.createElement(k.a,{for:e.id,className:"dark"===J.a.theme?"dark-label":"light-label"},e.key)))}))),s.a.createElement(u.a,{style:{marginTop:"15px"}},s.a.createElement(m.a,{md:"6",sm:"12",style:{display:"flex"}},Ye&&s.a.createElement(s.a.Fragment,null,s.a.createElement(x.a,{color:"white",outline:!0,onClick:Wa,className:"add-button",id:"addButton",onMouseEnter:function(){return Ya(!0)},onMouseLeave:function(){return Ya(!1)},style:{backgroundColor:"var(--warning)"}},"+"),s.a.createElement("div",{className:"label-div"},s.a.createElement("span",{id:"buttonLabel",className:"no-display"},"Add a Custom Field")))),s.a.createElement(m.a,{sm:"6"},s.a.createElement(O.a,{className:"action-right",style:{textAlign:"right",marginBottom:"0px"}},s.a.createElement(x.a.Ripple,{outline:!0,color:"secondary",type:"reset",className:"button-label",onClick:function(e){La(!1),Ga()}},Da?"Cancel":(null===Za||void 0===Za?void 0:Za.resetButton)?null===Za||void 0===Za?void 0:Za.resetButton:"Reset"),s.a.createElement(x.a.Ripple,{color:"warning",type:"submit",className:"button-label",disabled:0===ga.length||!Ye||Ma,onClick:function(a){Da?function(a){a.preventDefault(),La(!1);var t=JSON.parse(localStorage.getItem("logInUserData")),l={liabilityType:Ye,liabilityDetails:Sa,nominees:ga,id:wa},n=t.liabilities.findIndex((function(e){return e.id===wa}));n>=0&&(t.liabilities.splice(n,1),t.liabilities.push(l),localStorage.setItem("logInUserData",JSON.stringify(t)),R.a.post("/backendapi/adddetails",{_id:t._id,liabilities:Object(d.b)(JSON.stringify(t.liabilities))},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("authtoken"))}}).then((function(a){M.b.success("Edited successfully!"),e.getData(e.parsedFilter),Ka()})).catch(),Ga(),Qa(),Pa(!0))}(a):function(a){a.preventDefault();var t=JSON.parse(localStorage.getItem("logInUserData")),l={liabilityType:Ye,liabilityDetails:Sa,nominees:ga,id:Object(c.v4)()};ga.forEach((function(e){e.objectid=l.id})),t.liabilities.push(l),R.a.post("/backendapi/adddetails",{_id:t._id,liabilities:Object(d.b)(JSON.stringify(t.liabilities))},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("authtoken"))}}).then((function(a){e.getData(e.parsedFilter),Ka()})).catch(),localStorage.setItem("logInUserData",JSON.stringify(t)),M.b.success("Liability addedd successfully!"),Ga(),Qa(),Pa(!0)}(a)}},Da?"Update":(null===Za||void 0===Za?void 0:Za.submitButton)?null===Za||void 0===Za?void 0:Za.submitButton:"Add"))))))))),s.a.createElement(u.a,null,s.a.createElement(M.a,null),s.a.createElement(m.a,{md:"8"},s.a.createElement(I.c,{heading:(null===Za||void 0===Za?void 0:Za.subHeading)?Za.subHeading:"Liabilities List",isLoading:e.listLoading,collapseItems:qe,show:function(){He(!Ve),Ka()},assetShow:Ve}))))))))),s.a.createElement(L.a,null)," "),s.a.createElement(u.a,null,s.a.createElement(m.a,{sm:"12"},s.a.createElement(S.a,{isOpen:Oa,toggle:Wa,centered:!0},s.a.createElement(C.a,{toggle:Wa,tag:"div",style:{color:"var(--warning)",fontSize:"1.45rem",fontWeight:"bold",letterSpacing:"1px",justifyContent:"center"}},"Add Custom Field"),s.a.createElement(j.a,null,s.a.createElement(O.a,{className:"form-label-group"},s.a.createElement(N.a,{type:"email",name:"Email",disabled:""===Ye,id:"EmailMulti",value:Re,placeholder:"Enter Field Name",onChange:function(e){Be(e.target.value)}}),s.a.createElement(k.a,{for:"EmailMulti"},"Enter Field Name")),s.a.createElement(O.a,{className:"form-label-group",disabled:void 0===Ye},s.a.createElement(z.a,{className:"React",ref:he,disabled:void 0===Ye,classNamePrefix:"select",isClearable:!0,name:"color",options:W,placeholder:"Select Field Type...",onChange:function(e){return Je(e?e.value:" ")}}),s.a.createElement(k.a,{for:"nameMulti"},"Field Type")),s.a.createElement(O.a,{className:"form-label-group mb-0",style:{textAlign:"right"}},s.a.createElement(x.a.Ripple,{outline:!0,color:"secondary",type:"reset",className:"mb-1 button-label",disabled:void 0===Ye,onClick:function(e){Qa()}},(null===Za||void 0===Za?void 0:Za.resetButton)?null===Za||void 0===Za?void 0:Za.resetButton:"Reset")," ",s.a.createElement(x.a.Ripple,{color:"warning",disabled:""===Re||""===ze,type:"submit",className:"button-label",onClick:function(e){return function(){if(""!==Ye){var e=Sa,a=e.length,t="";if(e.findIndex((function(e){return e.key===Re+ze}))>=0)return void M.b.error("Field Already Exist! Please add new field");"Attachments"===Sa[a-1].key?(t=e[a-1],e[a-1]={key:Re+ze,val:"",type:ze,deletable:!0},e.push(t),Ca(e),Be(""),Je("")):(e.push({key:Re+ze,val:"",type:ze,deletable:!0}),Ca(e),Be(""),Je("")),Wa()}}()}},(null===Za||void 0===Za?void 0:Za.submitButton)?null===Za||void 0===Za?void 0:Za.submitButton:"Add"))))))))))}))}}]);